
<!DOCTYPE html>
<html lang="es">

<head>
    <!-- ... meta tags existentes ... -->
      <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estad√≠sticas</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">

    <!-- Reemplaza todo el <style>...</style> con: -->
    <link rel="stylesheet" href="css/styles-common.css">
    <link rel="stylesheet" href="css/styles-estadisticas.css">
	<link rel="stylesheet" href="css/bottom-nav.css">
	
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
     
    <!-- Librer√≠as externas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
     <script>
        // Verificar sesi√≥n activa
        if (!sessionStorage.getItem('xisco_session_active')) {
            window.location.href = 'index.html';
        }
    </script>
	<style>
		/* OCULTAR SECCIONES - VERSI√ìN SIMPLE */
#statsSection,
#statsGrid,
#chartsSection,
#chartsGrid,
#comparisonSection,
#modalitySection,
#modalityInputsSection,
#modalityStats,
.modality-section {
    display: none !important;
}

/* MOSTRAR SOLO HISTORIAL */
#matchesSection {
    display: block !important;
    max-width: 1400px;
    margin: 40px auto;
    padding: 20px;
}

#matchesTable {
    display: table !important;
}

#paginationTopStats,
#paginationBottomStats {
    display: flex !important;
}
	</style>
</head>
<body>

    <!-- Header con Logo y Men√∫ -->
    <div class="top-header">
        <div class="header-content">
              <a href="inicio.html" class="logo">
             <div class="logo-icon">
   <img src="/pool/images/poollogo_1.svg" width="190px"alt="PoolFlow tracker">               
			 </div>
			 </a>
            
            
            <nav class="desktop-nav">
                <a href="registro-partidos.html" class="nav-link">Partidos</a>
                <a href="estadisticas.html" class="nav-link active">Estad√≠sticas</a>
				 <a href="historial.html" class="nav-link active">Historial</a>	
				<a href="torneos.html" class="nav-link">Torneos</a>
<a href="analisis.html" class="nav-link">An√°lisis</a>
				<a href="config-github.html" class="nav-link">Sincronizaci√≥n</a>
                <a href="#" class="nav-link danger" onclick="resetAllDataDashboard(); return false;">Reiniciar</a>
                <a href="#" class="nav-link" onclick="logoutDashboard(); return false;">Salir</a>
            </nav>

            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>

    <!-- Overlay del men√∫ m√≥vil -->
    <div class="mobile-menu-overlay" onclick="toggleMenu()"></div>

    <!-- Men√∫ lateral m√≥vil -->
    <div class="mobile-menu">
        <nav class="mobile-nav">
            <a href="registro-partidos.html" class="nav-link">Partidos</a>
            <a href="estadisticas.html" class="nav-link active">Estad√≠sticas</a>
			 <a href="historial.html" class="nav-link active">Historial</a>
					<a href="torneos.html" class="nav-link">Torneos</a>
<a href="analisis.html" class="nav-link">An√°lisis</a>
			<a href="config-github.html" class="nav-link">Configuraci√≥n</a>
            <a href="#" class="nav-link danger" onclick="resetAllDataDashboard(); return false;">Reiniciar Datos</a>
            <a href="#" class="nav-link" onclick="logoutDashboard(); return false;">Cerrar Sesi√≥n</a>
        </nav>
    </div>



<!-- Header bonito (opcional) -->
<div class="history-header">
    <h1>üìã Historial de Partidos</h1>
    <p>Registro completo de todos los partidos jugados</p>
</div>

<!-- Botones de acci√≥n (opcional) -->
<div class="history-actions">
    <button class="history-btn" onclick="window.location.href='estadisticas.html'">
        üìä Ver Estad√≠sticas
    </button>
    <button class="history-btn" onclick="window.location.href='registro-partidos.html'">
        ‚ûï Nuevo Partido
    </button>
    <button class="history-btn" onclick="window.print()">
        üñ®Ô∏è Imprimir
    </button>
</div>


	
	
    <div class="container">
        <header>
            <h1>Estad√≠sticas</h1>
            <p class="subtitle">An√°lisis de rendimiento deportivo</p>
        </header>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Cargando datos...</p>
        </div>

        <div id="error" style="display: none;"></div>



        <div id="content" style="display: none;">
            <div class="stats-grid" id="statsGrid"></div>
            
  <div class="section" style="display: none;>
                <div class="section-header">
                    <h2 class="section-title">An√°lisis visual</h2>
                    <p class="section-description">Gr√°ficos interactivos de rendimiento</p>
                </div>
                <div class="charts-grid" id="chartsGrid"></div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">C√≥mputo por Modalidad</h2>
                    <p class="section-description">A√±ade estad√≠sticas manuales para generar an√°lisis adicionales</p>
                </div>
                <div class="chart-card">
                    <div class="modality-inputs-grid">
                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 8</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola8_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola8_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola8_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola8_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 9</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola9_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola9_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola9_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola9_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 10</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola10_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola10_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola10_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola10_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modality-actions">
                        <button id="calculateModalityBtn" class="action-btn primary">Calcular Estad√≠sticas</button>
                        <button id="saveModalityBtn" class="action-btn secondary">Guardar en data.json</button>
                    </div>

                    <div id="modalityStats" style="display: none; margin-top: 32px;">

						
                        <div class="modality-stats-grid" id="modalityStatsGrid"></div>
                        <div class="charts-grid" id="modalityChartsGrid" style="margin-top: 24px;"></div>
                    </div>
                </div>
            </div>

            <div class="section" id="comparisonSection" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">Comparativa de jugadores</h2>
                    <p class="section-description">An√°lisis cara a cara de rendimiento</p>
                </div>
                <div class="chart-card">
                    <div class="player-selector">
                        <div class="player-select-wrapper">
                            <label class="player-select-label">Xisco</label>
                            <select id="player1Select"></select>
                        </div>
                        <div class="vs-divider">VS</div>
                        <div class="player-select-wrapper">
                            <label class="player-select-label">Rival</label>
                            <select id="player2Select"></select>
                        </div>
                    </div>
                    <div id="comparisonContent"></div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title" id="historial">Historial</h2>
                    <p class="section-description">Registro completo de partidos</p>
                </div>
                
                <!-- Controles de paginaci√≥n superior -->
                <div id="paginationTopStats" class="pagination-container-stats" style="display: none;"></div>
                
                <div class="chart-card full-width">
                    <div class="table-container">
                        <table class="matches-table" id="matchesTable"></table>
                    </div>
                </div>
                
                <!-- Controles de paginaci√≥n inferior -->
                <div id="paginationBottomStats" class="pagination-container-stats" style="display: none;"></div>
            </div>
        </div>
    </div>
    <script src="js/common.js"></script>
<script src="js/historial.js"></script>
	<script src="js/bottom-nav.js"></script>
</body>
</html>
