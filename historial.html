
<!DOCTYPE html>
<html lang="es">

<head>
    <!-- ... meta tags existentes ... -->
      <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estadísticas</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">

    <!-- Reemplaza todo el <style>...</style> con: -->
    <link rel="stylesheet" href="css/styles-common.css">
    <link rel="stylesheet" href="css/styles-estadisticas.css">
	<link rel="stylesheet" href="css/bottom-nav.css">
	
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
     
    <!-- Librerías externas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
     <script>
        // Verificar sesión activa
        if (!sessionStorage.getItem('xisco_session_active')) {
            window.location.href = 'index.html';
        }
    </script>
	<style>
		/* ============================================
   CSS PARA PÁGINA DE SOLO HISTORIAL
   ============================================ */

/* Ocultar TODAS las secciones excepto el historial */
#statsGrid,
#statsSection,
#chartsGrid,
#chartsSection,
#comparisonSection,
#modalitySection,
#modalityInputsSection,
#modalityStats,
.modality-section,
.modality-inputs-section,
.charts-section,
.comparison-section,
.stats-hero,
header h1,
header p {
    display: none !important;
}

/* Asegurar que el historial sea visible */
#matchesSection,
#matchesTable,
#paginationTopStats,
#paginationBottomStats {
    display: block !important;
}

/* Mejorar el aspecto de la página de historial */
body {
    padding-top: 40px;
}

#matchesSection {
    display: block !important;
    max-width: 1400px;
    margin: 60px auto;
    padding: 20px;
}

/* Header bonito para el historial (opcional) */
.history-header {
    text-align: center;
    margin-bottom: 40px;
    padding: 60px 20px;
    background: linear-gradient(135deg, #040045 0%, #0a0a2e 100%);
    color: white;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

.history-header h1 {
    font-size: 3rem;
    margin-bottom: 15px;
    font-weight: 800;
    background: linear-gradient(135deg, #00d9ff 0%, #00fff2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.history-header p {
    font-size: 1.2rem;
    opacity: 0.9;
    font-weight: 400;
    display: block !important; /* Mostrar este párrafo específico */
}

/* Mejorar tabla */
#matchesTable {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
    border-radius: 16px;
    overflow: hidden;
    background: white;
}

/* Botones de acción (opcional) */
.history-actions {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.history-btn {
    padding: 12px 24px;
    background: linear-gradient(135deg, #00d9ff 0%, #00fff2 100%);
    color: #040045;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(0, 217, 255, 0.3);
}

.history-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 217, 255, 0.5);
}

/* Responsive */
@media (max-width: 768px) {
    .history-header h1 {
        font-size: 2rem;
    }
    
    .history-header p {
        font-size: 1rem;
    }
    
    #matchesSection {
        margin: 20px auto;
        padding: 10px;
    }
}
	</style>
</head>
<body>

    <!-- Header con Logo y Menú -->
    <div class="top-header">
        <div class="header-content">
              <a href="inicio.html" class="logo">
             <div class="logo-icon">
   <img src="/pool/images/poollogo_1.svg" width="190px"alt="PoolFlow tracker">               
			 </div>
			 </a>
            
            
            <nav class="desktop-nav">
                <a href="registro-partidos.html" class="nav-link">Partidos</a>
                <a href="estadisticas.html" class="nav-link active">Estadísticas</a>
				 <a href="#historial" class="nav-link active">Historial</a>	
				<a href="torneos.html" class="nav-link">Torneos</a>
<a href="analisis.html" class="nav-link">Análisis</a>
				<a href="config-github.html" class="nav-link">Sincronización</a>
                <a href="#" class="nav-link danger" onclick="resetAllDataDashboard(); return false;">Reiniciar</a>
                <a href="#" class="nav-link" onclick="logoutDashboard(); return false;">Salir</a>
            </nav>

            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>

    <!-- Overlay del menú móvil -->
    <div class="mobile-menu-overlay" onclick="toggleMenu()"></div>

    <!-- Menú lateral móvil -->
    <div class="mobile-menu">
        <nav class="mobile-nav">
            <a href="registro-partidos.html" class="nav-link">Partidos</a>
            <a href="estadisticas.html" class="nav-link active">Estadísticas</a>
			 <a href="#historial" class="nav-link active">Historial</a>
					<a href="torneos.html" class="nav-link">Torneos</a>
<a href="analisis.html" class="nav-link">Análisis</a>
			<a href="config-github.html" class="nav-link">Configuración</a>
            <a href="#" class="nav-link danger" onclick="resetAllDataDashboard(); return false;">Reiniciar Datos</a>
            <a href="#" class="nav-link" onclick="logoutDashboard(); return false;">Cerrar Sesión</a>
        </nav>
    </div>

    <div class="container">
        <header>
            <h1>Estadísticas</h1>
            <p class="subtitle">Análisis de rendimiento deportivo</p>
        </header>

        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Cargando datos...</p>
        </div>

        <div id="error" style="display: none;"></div>



        <div id="content" style="display: none;">
            <div class="stats-grid" id="statsGrid"></div>
            
  <div class="section" style="display: none;>
                <div class="section-header">
                    <h2 class="section-title">Análisis visual</h2>
                    <p class="section-description">Gráficos interactivos de rendimiento</p>
                </div>
                <div class="charts-grid" id="chartsGrid"></div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Cómputo por Modalidad</h2>
                    <p class="section-description">Añade estadísticas manuales para generar análisis adicionales</p>
                </div>
                <div class="chart-card">
                    <div class="modality-inputs-grid">
                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 8</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola8_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola8_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola8_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola8_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 9</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola9_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola9_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola9_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola9_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="modality-input-group">
                            <h3 class="modality-title">Bola 10</h3>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidos Jugados</label>
                                    <input type="number" id="bola10_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidos Ganados</label>
                                    <input type="number" id="bola10_won" min="0" value="0">
                                </div>
                            </div>
                            <div class="input-row">
                                <div class="input-field">
                                    <label>Partidas Jugadas</label>
                                    <input type="number" id="bola10_games_played" min="0" value="0">
                                </div>
                                <div class="input-field">
                                    <label>Partidas Ganadas</label>
                                    <input type="number" id="bola10_games_won" min="0" value="0">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modality-actions">
                        <button id="calculateModalityBtn" class="action-btn primary">Calcular Estadísticas</button>
                        <button id="saveModalityBtn" class="action-btn secondary">Guardar en data.json</button>
                    </div>

                    <div id="modalityStats" style="display: none; margin-top: 32px;">

						
                        <div class="modality-stats-grid" id="modalityStatsGrid"></div>
                        <div class="charts-grid" id="modalityChartsGrid" style="margin-top: 24px;"></div>
                    </div>
                </div>
            </div>

            <div class="section" id="comparisonSection" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">Comparativa de jugadores</h2>
                    <p class="section-description">Análisis cara a cara de rendimiento</p>
                </div>
                <div class="chart-card">
                    <div class="player-selector">
                        <div class="player-select-wrapper">
                            <label class="player-select-label">Xisco</label>
                            <select id="player1Select"></select>
                        </div>
                        <div class="vs-divider">VS</div>
                        <div class="player-select-wrapper">
                            <label class="player-select-label">Rival</label>
                            <select id="player2Select"></select>
                        </div>
                    </div>
                    <div id="comparisonContent"></div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title" id="historial">Historial</h2>
                    <p class="section-description">Registro completo de partidos</p>
                </div>
                
                <!-- Controles de paginación superior -->
                <div id="paginationTopStats" class="pagination-container-stats" style="display: none;"></div>
                
                <div class="chart-card full-width">
                    <div class="table-container">
                        <table class="matches-table" id="matchesTable"></table>
                    </div>
                </div>
                
                <!-- Controles de paginación inferior -->
                <div id="paginationBottomStats" class="pagination-container-stats" style="display: none;"></div>
            </div>
        </div>
    </div>
    <script src="js/common.js"></script>
<script src="js/historial.js"></script>
	<script src="js/bottom-nav.js"></script>
</body>
</html>
